# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Sören Tempel <soeren+alpine@soeren-tempel.net>
pkgname=vis
pkgver=0.9_git20240512
_commit="777b11c4ebdf752fde6f134f942aa20464d9c8b5"
pkgrel=0
pkgdesc="Modern, legacy free, simple yet efficient vim-like editor"
url="https://github.com/martanne/vis"
arch="all"
license="ISC"
depends="!outils-vis lua5.4-lpeg"
makedepends="libtermkey-dev ncurses-dev acl-dev lua5.4-dev"
checkdepends="vim"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://git.sr.ht/~martanne/vis/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	./configure \
		--prefix=/usr \
		--enable-lua \
		--enable-acl
	make
}

package() {
	make DESTDIR="$pkgdir" install
}
sha512sums="
ffa68230c8fc42c44ceb35a0275bbf69c0230efacbd7e1ab572155a2e931d84d1ec1959907ad4768547a5b9e9724f80a029fd385fe31910d81ad1f05c80d1375  vis-0.9_git20240512.tar.gz
"
