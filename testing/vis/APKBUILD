# Contributor: Sören Tempel <soeren+alpine@soeren-tempel.net>
# Maintainer: Sören Tempel <soeren+alpine@soeren-tempel.net>
pkgname=vis
pkgver=0.9_git20240508
_commit="50a7673370fa037960e9d2c3a8d6aed1bb9c39c4"
pkgrel=0
pkgdesc="Modern, legacy free, simple yet efficient vim-like editor"
url="https://github.com/martanne/vis"
arch="all"
license="ISC"
depends="!outils-vis lua5.4-lpeg"
makedepends="libtermkey-dev ncurses-dev acl-dev lua5.4-dev"
checkdepends="vim"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://git.sr.ht/~martanne/vis/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	./configure \
		--prefix=/usr \
		--enable-lua \
		--enable-acl
	make
}

package() {
	make DESTDIR="$pkgdir" install
}
sha512sums="
aa4f9d6c8ecb9a69a5925916b6d96f80e8eb8fa1ed6d8022e6da33cfd84335633acd3b1d2810902f8f2ba7402fcec6830809e2357370aa69785fc35db4363711  vis-0.9_git20240508.tar.gz
"
